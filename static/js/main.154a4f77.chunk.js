(this.webpackJsonpdadjokes=this.webpackJsonpdadjokes||[]).push([[0],{20:function(e,t,a){e.exports=a(48)},25:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(17),i=a.n(s),r=(a(25),a(26),a(27),a(19)),c=a(7),l=a(3),m=a(4),u=a(2),d=a(6),p=a(5),h=a(18),k=a.n(h),g=(a(45),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"getColor",value:function(){return this.props.score>=15?"#4CAF50":this.props.score>=12?"#8BC34A":this.props.score>=9?"#CDDC39":this.props.score>=6?"#FFEB3B":this.props.score>=3?"#FFC107":this.props.score>=0?"#FF9800":"#F44336"}},{key:"getEmoji",value:function(){return this.props.score>=15?"em em-rolling_on_the_floor_laughing":this.props.score>=12?"em em-laughing":this.props.score>=9?"em em-smiley":this.props.score>=6?"em em-slightly_smiling_face":this.props.score>=3?"em em-neutral_face":this.props.score>=0?"em em-confused":"em em-angry"}},{key:"render",value:function(){return n.a.createElement("div",{className:"Joke"},n.a.createElement("div",{className:"Joke-main-group"},n.a.createElement("div",{className:"Joke-score"},n.a.createElement("i",{onClick:this.props.UpClick,className:"fa fa-arrow-up","aria-hidden":"true"}),n.a.createElement("p",{style:{borderColor:this.getColor()},className:"Joke-score-num"},this.props.score),n.a.createElement("i",{onClick:this.props.DownClick,className:"fa fa-arrow-down","aria-hidden":"true"})),n.a.createElement("div",{className:"Joke-text"},this.props.text)),n.a.createElement("div",{className:"emoji-container"},n.a.createElement("i",{className:this.getEmoji(),"aria-label":"ROLLING ON THE FLOOR LAUGHING"})))}}]),a}(o.Component)),f=(a(46),a(47),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).handleClick=o.handleClick.bind(Object(u.a)(o)),o}return Object(m.a)(a,[{key:"handleClick",value:function(){this.props.getMoreJokes()}},{key:"render",value:function(){return n.a.createElement("div",{className:"Sidebar"},n.a.createElement("div",{className:"Sidebar-app-name"},n.a.createElement("p",null,"Dad ",n.a.createElement("span",null,"Jokes"))),n.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",className:"em em-laughing","aria-label":"ROLLING ON THE FLOOR LAUGHING"}),n.a.createElement("button",{onClick:this.handleClick},"More Jokes"))}}]),a}(o.Component)),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),isLoading:!0},o.incrementScore=o.incrementScore.bind(Object(u.a)(o)),o.getMoreJokes=o.getMoreJokes.bind(Object(u.a)(o)),o}return Object(m.a)(a,[{key:"incrementScore",value:function(e,t){var a=this;this.setState((function(a){return{jokes:a.jokes.map((function(a){return a.id===t?Object(c.a)(Object(c.a)({},a),{},{score:a.score+e}):a}))}}),(function(){window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))}))}},{key:"getJoke",value:function(e,t){var a=this;return console.log(t),k.a.get("https://icanhazdadjoke.com",{headers:{Accept:"application/json"}}).then((function(o){e.some((function(e){return e.id===o.data.id}))?(console.log("duplicate"),a.getJoke(e,t)):(e.push({id:o.data.id,joke:o.data.joke,score:0}),0===t?(console.log(e),a.setState((function(t){return{jokes:Object(r.a)(e),loadedJokes:[],isLoading:!1}}),(function(){window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))}))):a.getJoke(e,t-1))})).catch((function(e){console.log(e)}))}},{key:"getMoreJokes",value:function(){this.state.isLoading||(this.setState({isLoading:!0}),this.getJoke(this.state.jokes,9))}},{key:"componentDidMount",value:function(){0===this.state.jokes.length?this.getJoke(this.props.loadedJokes,10):this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this,t=this.state.jokes.sort((function(e,t){return t.score-e.score})).map((function(t){return n.a.createElement(g,{text:t.joke,score:t.score,UpClick:function(){e.incrementScore(1,t.id)},DownClick:function(){e.incrementScore(-1,t.id)},key:t.id,id:t.id})}));return this.state.isLoading?n.a.createElement("div",{className:"Jokelist"},n.a.createElement(f,{getMoreJokes:this.getMoreJokes}),n.a.createElement("div",{className:"Jokeboard"},n.a.createElement("div",{className:"loading-screen"},n.a.createElement("i",{className:"fa-5x far fa-laugh fa-spin"}),n.a.createElement("span",null,"...fetching jokes")))):n.a.createElement("div",{className:"Jokelist"},n.a.createElement(f,{isLoading:this.state.isLoading,getMoreJokes:this.getMoreJokes}),n.a.createElement("div",{className:"Jokeboard"},t))}}]),a}(o.Component);j.defaultProps={loadedJokes:[]};var v=j;var E=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.154a4f77.chunk.js.map